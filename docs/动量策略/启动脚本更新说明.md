# å¯åŠ¨è„šæœ¬æ›´æ–°è¯´æ˜

## âœ… å·²æ›´æ–°çš„è„šæœ¬

### 1. stop.sh âœ…
**æ›´æ–°å†…å®¹**:
- ä¿®å¤åç«¯ç«¯å£: åŒæ—¶æ¸…ç†8000å’Œ8080ç«¯å£
- å…¼å®¹æ—§ç«¯å£å’Œæ–°ç«¯å£

**ä¿®æ”¹ä½ç½®**:
```bash
# ä¿®æ”¹å‰: åªæ¸…ç†8000
BACKEND_PORT_PIDS=$(lsof -ti:8000 2>/dev/null)

# ä¿®æ”¹å: æ¸…ç†8000å’Œ8080
for PORT in 8000 8080; do
    BACKEND_PORT_PIDS=$(lsof -ti:$PORT 2>/dev/null)
    ...
done
```

---

### 2. start.sh âœ…
**æ›´æ–°å†…å®¹**:
- åç«¯ç«¯å£æ”¹ä¸º8080
- å¥åº·æ£€æŸ¥URLæ”¹ä¸º`http://localhost:8080/health`
- æœåŠ¡åœ°å€æç¤ºæ›´æ–°

**ä¿®æ”¹ä½ç½®**:
```bash
# ä¿®æ”¹å‰
if check_port 8000; then
nohup uvicorn app.main:app --host 0.0.0.0 --port 8000 ...
if curl -s http://localhost:8000/health ...

# ä¿®æ”¹å
if check_port 8080; then
nohup uvicorn app.main:app --host 0.0.0.0 --port 8080 ...
if curl -s http://localhost:8080/health ...
```

---

### 3. init.sh âœ… (æ–°å¢)
**ç”¨é€”**: é¦–æ¬¡éƒ¨ç½²æˆ–æ›´æ–°ååˆå§‹åŒ–ç³»ç»Ÿ

**åŠŸèƒ½**:
1. âœ… æ£€æŸ¥æ•°æ®åº“è¿æ¥
2. âœ… è¿è¡Œæ•°æ®åº“è¿ç§»(alembic)
3. âœ… æ³¨å†ŒåŠ¨é‡ç­–ç•¥Agentå’ŒTool
4. âœ… æ³¨å†ŒåŠ¨é‡ç­–ç•¥æ¨¡æ¿
5. âœ… éªŒè¯æ³¨å†Œç»“æœ

**æ‰§è¡Œè„šæœ¬**:
```bash
./init.sh
```

**è¾“å‡ºç¤ºä¾‹**:
```
===================================
  AutoMoney åˆå§‹åŒ–
===================================

ğŸ“¦ æ£€æŸ¥æ•°æ®åº“è¿æ¥...
âœ“ æ•°æ®åº“è¿æ¥æ­£å¸¸

ğŸ—„ï¸  åˆå§‹åŒ–æ•°æ®åº“è¡¨...
  è¿è¡Œæ•°æ®åº“è¿ç§»...
âœ“ æ•°æ®åº“è¿ç§»å®Œæˆ

ğŸ¤– æ³¨å†ŒåŠ¨é‡ç­–ç•¥Agentå’ŒTool...
âœ“ Agentå’ŒToolæ³¨å†Œå®Œæˆ

ğŸ“‹ æ³¨å†ŒåŠ¨é‡ç­–ç•¥æ¨¡æ¿...
âœ“ ç­–ç•¥æ¨¡æ¿æ³¨å†Œå®Œæˆ

ğŸ” éªŒè¯æ³¨å†Œç»“æœ...
  âœ“ Agents: 5 ä¸ª
  âœ“ Tools: 12 ä¸ª
  âœ“ Strategies: 3 ä¸ª
  âœ“ åŠ¨é‡ç­–ç•¥å·²æ³¨å†Œ (ID: 3)

===================================
  âœ… åˆå§‹åŒ–å®Œæˆ
===================================
```

---

## ğŸ“‹ å®Œæ•´å¯åŠ¨æµç¨‹

### é¦–æ¬¡éƒ¨ç½²
```bash
# 1. åˆå§‹åŒ–ç³»ç»Ÿï¼ˆæ³¨å†ŒAgentã€Toolã€ç­–ç•¥ï¼‰
./init.sh

# 2. å¯åŠ¨æœåŠ¡
./start.sh

# 3. éªŒè¯æœåŠ¡çŠ¶æ€
./status.sh
```

### æ—¥å¸¸ä½¿ç”¨
```bash
# å¯åŠ¨
./start.sh

# åœæ­¢
./stop.sh

# æŸ¥çœ‹çŠ¶æ€
./status.sh

# æŸ¥çœ‹æ—¥å¿—
./logs.sh
```

### æ›´æ–°Agentæˆ–ç­–ç•¥å
```bash
# 1. åœæ­¢æœåŠ¡
./stop.sh

# 2. é‡æ–°åˆå§‹åŒ–ï¼ˆæ›´æ–°æ³¨å†Œï¼‰
./init.sh

# 3. é‡æ–°å¯åŠ¨
./start.sh
```

---

## ğŸ”§ è„šæœ¬å¯¹æ¯”

### ç«¯å£é…ç½®

| è„šæœ¬ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| start.sh | 8000 | 8080 |
| stop.sh | 8000 | 8000+8080 |

### æ–°å¢åŠŸèƒ½

| è„šæœ¬ | çŠ¶æ€ | åŠŸèƒ½ |
|------|------|------|
| init.sh | âœ… æ–°å¢ | åˆå§‹åŒ–Agent/Tool/ç­–ç•¥ |

---

## ğŸ“ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: é¦–æ¬¡éƒ¨ç½²
```bash
cd /Users/uniteyoo/Documents/AutoMoney

# Step 1: åˆå§‹åŒ–
./init.sh

# Step 2: å¯åŠ¨
./start.sh

# Step 3: è®¿é—®
open http://localhost:3010
```

### åœºæ™¯2: ä»£ç æ›´æ–°åé‡å¯
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# åœæ­¢æœåŠ¡
./stop.sh

# å¦‚æœæœ‰Agent/ç­–ç•¥æ›´æ–°,é‡æ–°åˆå§‹åŒ–
./init.sh

# é‡æ–°å¯åŠ¨
./start.sh
```

### åœºæ™¯3: ä»…é‡å¯æœåŠ¡
```bash
# åœæ­¢
./stop.sh

# å¯åŠ¨ï¼ˆä¸é‡æ–°åˆå§‹åŒ–ï¼‰
./start.sh
```

### åœºæ™¯4: æ¸…ç†ç¯å¢ƒ
```bash
# åœæ­¢å¹¶æ¸…ç†æ—¥å¿—
./stop.sh --clean-logs

# é‡æ–°åˆå§‹åŒ–
./init.sh

# é‡æ–°å¯åŠ¨
./start.sh
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç«¯å£å…¼å®¹æ€§
- `stop.sh`ä¼šåŒæ—¶æ¸…ç†8000å’Œ8080ç«¯å£,ç¡®ä¿å®Œå…¨æ¸…ç†
- `start.sh`é»˜è®¤ä½¿ç”¨8080ç«¯å£

### 2. åˆå§‹åŒ–è„šæœ¬
- `init.sh`æ˜¯**å¹‚ç­‰**çš„,å¯ä»¥å¤šæ¬¡è¿è¡Œ
- ä¼šè‡ªåŠ¨è·³è¿‡å·²å­˜åœ¨çš„è®°å½•,åªæ›´æ–°å˜æ›´

### 3. è™šæ‹Ÿç¯å¢ƒ
- æ‰€æœ‰è„šæœ¬éƒ½ä¾èµ–`AMbackend/venv`è™šæ‹Ÿç¯å¢ƒ
- é¦–æ¬¡ä½¿ç”¨éœ€è¦å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

### 4. æ•°æ®åº“
- `init.sh`ä¼šæ£€æŸ¥æ•°æ®åº“è¿æ¥
- å¦‚æœæ•°æ®åº“æœªå¯åŠ¨,è„šæœ¬ä¼šå¤±è´¥

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ç«¯å£è¢«å ç”¨
```bash
# å…ˆåœæ­¢æ‰€æœ‰æœåŠ¡
./stop.sh

# æ‰‹åŠ¨æ£€æŸ¥ç«¯å£
lsof -ti:8080
lsof -ti:3010

# æ‰‹åŠ¨æ€æ­»è¿›ç¨‹
kill -9 $(lsof -ti:8080)
kill -9 $(lsof -ti:3010)

# é‡æ–°å¯åŠ¨
./start.sh
```

### Q2: Agentæœªæ³¨å†Œ
```bash
# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
./init.sh

# æˆ–æ‰‹åŠ¨æ³¨å†Œ
cd AMbackend
source venv/bin/activate
python scripts/register_momentum_complete.py
```

### Q3: ç­–ç•¥æœªæ³¨å†Œ
```bash
# è¿è¡Œåˆå§‹åŒ–è„šæœ¬
./init.sh

# æˆ–æ‰‹åŠ¨æ³¨å†Œ
cd AMbackend
source venv/bin/activate
python scripts/init_momentum_strategy.py
```

### Q4: æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥PostgreSQLæ˜¯å¦è¿è¡Œ
brew services list | grep postgresql

# å¯åŠ¨æ•°æ®åº“
brew services start postgresql

# å†æ¬¡åˆå§‹åŒ–
./init.sh
```

---

## ğŸ“Š è„šæœ¬ä¾èµ–å…³ç³»

```
init.sh
  â”œâ”€â”€ register_momentum_complete.py (æ³¨å†ŒAgentå’ŒTool)
  â””â”€â”€ init_momentum_strategy.py (æ³¨å†Œç­–ç•¥)

start.sh
  â”œâ”€â”€ uvicorn (åç«¯æœåŠ¡)
  â””â”€â”€ npm run dev (å‰ç«¯æœåŠ¡)

stop.sh
  â”œâ”€â”€ kill PID (é€šè¿‡PIDæ–‡ä»¶)
  â””â”€â”€ lsof -ti (é€šè¿‡ç«¯å£)
```

---

## âœ… éªŒè¯æ¸…å•

### å¯åŠ¨å‰æ£€æŸ¥
- [ ] PostgreSQLè¿è¡Œä¸­
- [ ] Pythonè™šæ‹Ÿç¯å¢ƒå·²åˆ›å»º
- [ ] Node.jsä¾èµ–å·²å®‰è£…
- [ ] è¿è¡Œè¿‡`./init.sh`

### å¯åŠ¨åæ£€æŸ¥
- [ ] åç«¯: `curl http://localhost:8080/health` è¿”å›healthy
- [ ] å‰ç«¯: `open http://localhost:3010` èƒ½è®¿é—®
- [ ] Agent List: Adminé¡µé¢èƒ½çœ‹åˆ°5ä¸ªAgent
- [ ] Tool List: Adminé¡µé¢èƒ½çœ‹åˆ°12+ä¸ªTool

### åŠŸèƒ½æ£€æŸ¥
- [ ] åˆ›å»ºåŠ¨é‡ç­–ç•¥Portfolio
- [ ] æ‰‹åŠ¨è§¦å‘æ‰§è¡Œ
- [ ] Recent Actionsæ— é”™è¯¯
- [ ] æ—¥å¿—æ˜¾ç¤ºæ­£ç¡®çš„Agentåç§°

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- `docs/åŠ¨é‡ç­–ç•¥/å®Œæ•´ç³»ç»Ÿé€»è¾‘æè¿°.md` - ç³»ç»Ÿé€»è¾‘
- `docs/åŠ¨é‡ç­–ç•¥/Agentå’ŒToolæ³¨å†Œå®Œæˆ.md` - æ³¨å†Œè¯¦æƒ…
- `docs/åŠ¨é‡ç­–ç•¥/åŠ¨æ€Agentæ‰§è¡Œä¿®å¤.md` - æ‰§è¡Œä¿®å¤

---

**æ›´æ–°æ—¶é—´**: 2025-11-13  
**çŠ¶æ€**: âœ… å®Œæˆ  
**æµ‹è¯•çŠ¶æ€**: â³ å¾…éªŒè¯

